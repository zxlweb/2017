<!DOCTYPE html>
<html>

    <head lang="en">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1" />
    </head>

    <body>
        <div id="demo"></div>
        <script type="text/javascript">
            var arr = [1, 2, 3];
            var map_arr = [];
            /*  map_arr=arr.map((i,index)=>{
                  console.log(index) ;
                  return i+=2});*/
            /*
             *filter()：检查指定数组符合某种条件，过滤符合条件的元素，生成新的数组
             * 注意：1）不会改变原数组，返回新的数组
             * */
            map_arr = arr.filter((i, index) => {
                console.log(index);
                return i >= 2
            });
            console.log(arr, map_arr);
            document.getElementById('demo').innerHTML = map_arr;

            var a = [{
                _id: 880239,
                id: 30
            }, {
                _id: 880239,
                id: 32
            }, {
                _id: 880239,
                id: 33
            }, {
                _id: 880240,
                id: 88
            }, {
                _id: 880240,
                id: 89
            }]
            Array.prototype.distinct = function() {
                var arr = this,
                    result = [],
                    i,
                    j,
                    len = arr.length;
                for (i = 0; i < len; i++) {
                    for (j = i + 1; j < len; j++) {
                        if (arr[i]._id === arr[j]._id) {
                            j = ++i;
                        }
                    }
                    result.push(arr[i]._id);
                }
                return result;
            }

            var b = a.distinct();
            var obj = [];
            b.map((item) => {
                var key = item;
                var value = []
                var _a = a.map((item_a) => {

                    if (item_a._id == item) {
                        value.push(item_a.id)
                    }
                })
                obj.push({
                    key,
                    value: value.toString()
                })
            })
            console.log(obj)
        </script>
    </body>

</html>